<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>MiMi üíñ A Very Serious Question</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<style>
:root{
  --pink1:#ffd1e8;
  --pink2:#fff0f7;
  --card:#ffffffee;
  --yes:#ff2f7b;
  --yesHover:#ff145f;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100svh;
  display:grid;
  place-items:center;
  background:radial-gradient(circle at top,var(--pink2),var(--pink1));
  font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
  overflow:hidden;
  padding:14px;
}

canvas{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:999;
}

.card{
  width:min(720px,96vw);
  padding:30px 22px 34px;
  background:var(--card);
  backdrop-filter:blur(12px);
  border-radius:28px;
  text-align:center;
  box-shadow:0 30px 90px rgba(0,0,0,.2);
}

h1{
  font-size:clamp(26px,4.5vw,48px);
  margin:10px 0;
}

p{
  font-size:16px;
  opacity:.82;
  margin-bottom:20px;
}

.zone{
  position:relative;
  width:min(520px,100%);
  height:180px;
  margin:0 auto;
  touch-action:none;
}

button{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  padding:16px 28px;
  font-size:18px;
  font-weight:900;
  border-radius:999px;
  border:none;
  cursor:pointer;
  box-shadow:0 14px 30px rgba(0,0,0,.18);
  user-select:none;
  -webkit-tap-highlight-color:transparent;
  transition:transform .15s ease,background .15s ease;
}

#yes{
  left:16%;
  background:var(--yes);
  color:#fff;
}

#yes:hover{background:var(--yesHover)}

#no{
  left:64%;
  background:#e5e7eb;
  color:#111;
}

.hint{
  margin-top:14px;
  font-size:14px;
  min-height:22px;
  opacity:.7;
}

.fake{
  font-size:13px;
  opacity:.6;
  margin-top:8px;
}

.result{
  display:none;
  margin-top:26px;
  animation:pop .5s ease;
}

@keyframes pop{
  from{transform:scale(.9);opacity:0}
  to{transform:scale(1);opacity:1}
}

/* HEARTBEAT */
@keyframes heartbeat{
  0%{transform:translateY(-50%) scale(1)}
  25%{transform:translateY(-50%) scale(1.05)}
  40%{transform:translateY(-50%) scale(1)}
  60%{transform:translateY(-50%) scale(1.08)}
  100%{transform:translateY(-50%) scale(1)}
}

.heartbeat{
  animation:heartbeat 1.4s infinite;
}

/* FREEZE FRAME */
.freeze{
  position:fixed;
  inset:0;
  background:rgba(255,255,255,.96);
  display:grid;
  place-items:center;
  z-index:99999;
  text-align:center;
  font-size:clamp(28px,5vw,52px);
  padding:24px;
  animation:pop .4s ease;
}

audio{display:none}
</style>
</head>

<body>
<canvas id="confetti"></canvas>

<audio id="music" loop>
  <source src="https://assets.mixkit.co/music/preview/mixkit-romantic-piano-loop-779.mp3">
</audio>

<main class="card">
  <h1>MiMi‚Ä¶ ü•πüíñ</h1>
  <p>
    This page has one purpose.<br>
    One question.<br>
    One correct answer.
  </p>

  <h1>Will you be my Valentine?</h1>

  <div class="zone" id="zone">
    <button id="yes">YES üíò</button>
    <button id="no">No üôÑ</button>
  </div>

  <div class="hint" id="hint">‚ö†Ô∏è ‚ÄúNo‚Äù may cause emotional consequences.</div>
  <div class="fake" id="fake"></div>

  <div class="result" id="result">
    <h1>OKAY OKAY üò≠‚ù§Ô∏è</h1>
    <p><strong>WE</strong> win.</p>
    <p>
      MiMi, this wasn‚Äôt just a page.<br>
      It‚Äôs a memory ‚Äî and now it‚Äôs ours.
    </p>
    <h1>üíç Be mine. Always.</h1>
    <img src="https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif" width="260">
  </div>
</main>

<script>
const zone=document.getElementById("zone");
const yes=document.getElementById("yes");
const no=document.getElementById("no");
const hint=document.getElementById("hint");
const fake=document.getElementById("fake");
const result=document.getElementById("result");
const canvas=document.getElementById("confetti");
const music=document.getElementById("music");

/* 10 FUNNY NO JOKES */
const sass=[
  "Nice try, rebel üòè",
  "That button is for decoration only.",
  "MiMi pls‚Ä¶ be serious.",
  "Even the button doesn‚Äôt believe you.",
  "This isn‚Äôt that kind of website.",
  "No button said ‚ÄòI quit‚Äô.",
  "Are you pressing this for fun? üôÑ",
  "At this point it‚Äôs just embarrassing for No.",
  "Girl‚Ä¶ stop lying to yourself üòå",
  "Okay now you‚Äôre just flirting."
];

const reacts=[
  "MiMi is plotting something‚Ä¶",
  "MiMi is enjoying this way too much üòè",
  "MiMi knows how this ends.",
  "MiMi vs. the No button ‚Äî who wins?",
  "Spoiler: it‚Äôs not No."
];

let count=0;
let yesScale=1;

/* CONFETTI */
function resize(){
  const dpr=window.devicePixelRatio||1;
  canvas.width=innerWidth*dpr;
  canvas.height=innerHeight*dpr;
  canvas.style.width="100vw";
  canvas.style.height="100vh";
}
resize();
addEventListener("resize",resize);

const confettiInstance=confetti.create(canvas,{resize:false,useWorker:true});

/* HEARTBEAT AFTER DELAY */
setTimeout(()=>yes.classList.add("heartbeat"),2200);

/* NO BUTTON DODGE */
function clamp(v,min,max){return Math.max(min,Math.min(max,v))}

function dodge(px,py){
  const z=zone.getBoundingClientRect();
  const b=no.getBoundingClientRect();

  let dx=(b.left+b.width/2)-px;
  let dy=(b.top+b.height/2)-py;
  let mag=Math.hypot(dx,dy)||1;
  dx/=mag; dy/=mag;

  no.style.left=clamp((b.left-z.left)+dx*140,0,z.width-b.width)+"px";
  no.style.top=clamp((b.top-z.top)+dy*140,0,z.height-b.height)+"px";
  no.style.transform="rotate("+(Math.random()*18-9)+"deg)";

  yesScale=Math.min(2.6,yesScale+.12);
  yes.style.transform=`translateY(-50%) scale(${yesScale})`;

  hint.textContent=sass[count%sass.length];
  fake.textContent=reacts[count%reacts.length];
  count++;
}

zone.addEventListener("pointermove",e=>{
  const b=no.getBoundingClientRect();
  if(Math.hypot(
    (b.left+b.width/2)-e.clientX,
    (b.top+b.height/2)-e.clientY
  )<150) dodge(e.clientX,e.clientY);
});

no.addEventListener("click",e=>e.preventDefault());

/* YES CLICK */
yes.addEventListener("click",()=>{
  music.play().catch(()=>{});

  const freeze=document.createElement("div");
  freeze.className="freeze";
  freeze.innerHTML="üíñ MI MI üíñ<br>This moment is officially ours.";
  document.body.appendChild(freeze);

  setTimeout(()=>{
    freeze.remove();
    zone.style.display="none";
    hint.style.display="none";
    fake.style.display="none";
    result.style.display="block";

    confettiInstance({
      particleCount:350,
      spread:150,
      startVelocity:65,
      origin:{x:.5,y:.6}
    });
  },1600);
});

/* WAIT TEASE */
setTimeout(()=>{
  if(result.style.display!=="block"){
    hint.textContent="MiMi‚Ä¶ the YES button is waiting patiently ü•π";
  }
},10000);
</script>
</body>
</html>

